# ============================================
# Server Configuration
# ============================================
PORT=3000
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
APP_NAME=app
APP_VERSION=1.0.0
# ============================================
# Node Environment
# ============================================
NODE_ENV=development

# ============================================
# Authentication
# ============================================
JWT_ACCESS_SECRET=your-secret-key-minimum-32-characters-long
JWT_ACCESS_TOKEN_TTL=3600
JWT_REFRESH_TOKEN_TTL=86400

# ============================================
# OTP Configuration
# ============================================
OTP_LENGTH=6
OTP_HMAC_ALGORITHM=sha256
OTP_TTL=300
OTP_HMAC_SECRET=your-otp-hmac-secret-minimum-32-characters-long
# DEV_FIXED_OTP=123456  # Only in development mode

# ============================================
# Database Configuration
# ============================================
# Database Type: mysql, postgres, or mongo
DB_TYPE=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_NAME=myDb
DB_USERNAME=root
DB_PASSWORD=1111
# MongoDB Configuration
MONGO_URI=mongodb://localhost:27017/myapp

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=300

# Database General Settings
DB_SYNCHRONIZE=false
DB_LOGGING=false    
# ============================================
# Throttler Configuration
# ============================================
THROTTLER_GENERAL_SHORT_TTL=1m
THROTTLER_GENERAL_SHORT_LIMIT=10
THROTTLER_GENERAL_MEDIUM_TTL=5m
THROTTLER_GENERAL_MEDIUM_LIMIT=50
THROTTLER_GENERAL_LONG_TTL=1h
THROTTLER_GENERAL_LONG_LIMIT=200

# ============================================
# Module Management
# ============================================
# Comma-separated list of enabled modules (optional)
# If not set, modules with enabledByDefault=true will be loaded
MODULES_ENABLED=user
# Comma-separated list of disabled modules (optional)
MODULES_DISABLED=

# ============================================
# Manifest Loader Options
# ============================================
# Custom glob pattern for manifest files (optional)
# Default: dist/modules/**/*.manifest.js (or src/modules/**/*.manifest.ts in dev)
MANIFESTS_GLOB=
# Custom working directory for manifest loading (optional)
MANIFESTS_CWD=
# Use absolute paths for manifest files (optional, default: true)
MANIFESTS_ABSOLUTE=true
# Force reload manifests even if already loaded (optional, default: false)
MANIFESTS_FORCE_RELOAD=false
# ============================================
# Config Loader Options
# ============================================
# Custom glob pattern for core config files (optional)
# Default: dist/core/**/*.config.js (or src/core/**/*.config.ts in dev)
CONFIG_CORE_GLOB=
# Custom working directory for config loading (optional)
CONFIG_CWD=
# Use absolute paths for config files (optional, default: true)
CONFIG_ABSOLUTE=true
# Force reload configs even if already loaded (optional, default: false)
CONFIG_FORCE_RELOAD=false

# ============================================
# Bundle Configuration
# ============================================
# Path to bundle snapshot file (comma-separated path segments)
# Default: storage/modules/bundle.json
BUNDLE_PATH=storage,modules,bundle.json
# swwager
SWAGGER_ENABLED=false
# ============================================
# Logger Configuration
# ============================================
LOG_DRIVER=pino
LOG_LEVEL=info
USE_NEST_LOGGER_FOR_CLI=true
USE_NEST_LOGGER_FOR_HTTP=true
LOG_FILE_PATH=storage/logs/app.log
USE_APP_LOGGER_FOR_BOOTSTRAP=false
# Use app logger for NestJS (optional, default: false)
USE_APP_LOGGER_FOR_NEST=false

# ============================================
# Messaging Configuration
# ============================================
# Drivers: memory | rabbit
# - memory: works without RabbitMQ
# - rabbit: requires RABBITMQ_ENABLED=true + connections configured
MESSAGING_ENABLED=true
MESSAGING_DRIVER=rabbit
# ============================================
# RabbitMQ Configuration
# ============================================
# Set to true only if you want RabbitMQ-backed messaging/queue drivers.

RABBITMQ_URI=amqp://localhost:5672
RABBITMQ_RETRY_DELAY_TIERS=5000,30000,300000
RABBITMQ_MAX_RETRIES=3
# Cron jobs
OUTBOX_PROCESSOR_ENABLED=false


# ============================================
# i18n Configuration
# ============================================
# Source directory for translation files (default: "src")
I18N_SRC_DIR=src
# Output directory for flattened translations (default: "storage/i18n/translations")
I18N_OUT_DIR=storage/i18n/translations
# Comma-separated list of language codes (default: "en,fa")
I18N_LANGS=en,fa
# Conflict resolution mode: keep-first, overwrite, warn, or error (default: "keep-first")
I18N_CONFLICT=keep-first

# Default language for i18n (default: "fa")
I18N_DEFAULT_LANGUAGE=en
# Fallback language for i18n (default: "fa")
I18N_FALLBACK_LANGUAGE=en
# Output path for generated i18n types (default: "src/core/i18n/generated/i18n.generated.ts")
I18N_TYPES_OUTPUT_PATH=src/core/i18n/generated/i18n.generated.ts
#================================
#-------------- MINIO ============
#=================================
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_SECURE=false
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=files